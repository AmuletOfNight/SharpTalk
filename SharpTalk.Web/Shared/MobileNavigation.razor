@using SharpTalk.Web.Layout

<div class="mobile-nav">
    @if (CurrentView != MobileView.WorkspaceList)
    {
        <button class="nav-btn back-btn" @onclick="OnBack" title="Back">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
        </button>
    }

    <div class="nav-title">@GetViewTitle()</div>

    @if (CurrentView != MobileView.WorkspaceList)
    {
        <button class="nav-btn menu-btn" @onclick="OnMenuToggle" title="Menu">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="12" x2="21" y2="12"/>
                <line x1="3" y1="6" x2="21" y2="6"/>
                <line x1="3" y1="18" x2="21" y2="18"/>
            </svg>
        </button>
    }
</div>

@code {
    [Parameter]
    public MobileView CurrentView { get; set; }

    [Parameter]
    public EventCallback OnBack { get; set; }

    [Parameter]
    public EventCallback OnMenuToggle { get; set; }

    private string GetViewTitle()
    {
        return CurrentView switch
        {
            MobileView.WorkspaceList => "Workspaces",
            MobileView.ChannelList => "Channels",
            MobileView.ChatArea => "Chat",
            _ => ""
        };
    }
}
